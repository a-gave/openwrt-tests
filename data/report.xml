<?xml version="1.0" encoding="utf-8"?><testsuites name="pytest tests"><testsuite name="pytest" errors="1" failures="2" skipped="11" tests="35" time="84.650" timestamp="2025-12-20T20:49:41.834883+00:00" hostname="runnervmh13bl"><properties><property name="ENV_CONFIG" value="targets/qemu-libremesh-x86-64.yaml" /><property name="TARGETS" value="['main']" /></properties><testcase classname="tests.test_apk.TestApk" name="test_apk_procd_installed" time="61.007" /><testcase classname="tests.test_apk.TestApk" name="test_apk_add_ucert" time="18.734" /><testcase classname="tests.test_apk.TestApk" name="test_apk_audit" time="0.549"><failure message="#x1B[0mExpected change 'A etc/rc.d/K85odhcpd' not found in audit output&#10;assert 'A etc/rc.d/K85odhcpd' in ['A etc/apk/arch', 'A etc/apk/keys/openwrt-snapshots.pem', 'A etc/apk/keys/libremesh.pem', 'A etc/apk/repositories.d/customfeeds.list', 'A etc/apk/repositories.d/distfeeds.list', 'A etc/apk/repositories.d/limefeeds.list', ...]&#10;#x1B[31mtests/test_apk.py#x1B[0m:68 in test_apk_audit() -&gt; with check:&#10;#x1B[31mtest_apk.py#x1B[0m:69 in test_apk_audit -&gt; assert expected in changes, (&#10;#x1B[31mAssertionError: Expected change 'A etc/rc.d/K85odhcpd' not found in audit output&#10;assert 'A etc/rc.d/K85odhcpd' in ['A etc/apk/arch', 'A etc/apk/keys/openwrt-snapshots.pem', 'A etc/apk/keys/libremesh.pem', 'A etc/apk/repositories.d/customfeeds.list', 'A etc/apk/repositories.d/distfeeds.list', 'A etc/apk/repositories.d/limefeeds.list', ...]&#10;#x1B[0m&#10;&#10;#x1B[31m">#x1B[31mFAILURE: #x1B[0mExpected change 'A etc/rc.d/K85odhcpd' not found in audit output
assert 'A etc/rc.d/K85odhcpd' in ['A etc/apk/arch', 'A etc/apk/keys/openwrt-snapshots.pem', 'A etc/apk/keys/libremesh.pem', 'A etc/apk/repositories.d/customfeeds.list', 'A etc/apk/repositories.d/distfeeds.list', 'A etc/apk/repositories.d/limefeeds.list', ...]
#x1B[31mtests/test_apk.py#x1B[0m:68 in test_apk_audit() -&gt; with check:
#x1B[31mtest_apk.py#x1B[0m:69 in test_apk_audit -&gt; assert expected in changes, (
#x1B[31mAssertionError: Expected change 'A etc/rc.d/K85odhcpd' not found in audit output
assert 'A etc/rc.d/K85odhcpd' in ['A etc/apk/arch', 'A etc/apk/keys/openwrt-snapshots.pem', 'A etc/apk/keys/libremesh.pem', 'A etc/apk/repositories.d/customfeeds.list', 'A etc/apk/repositories.d/distfeeds.list', 'A etc/apk/repositories.d/limefeeds.list', ...]
#x1B[0m

#x1B[31mFAILURE: #x1B[0mExpected change 'A etc/rc.d/S35odhcpd' not found in audit output
assert 'A etc/rc.d/S35odhcpd' in ['A etc/apk/arch', 'A etc/apk/keys/openwrt-snapshots.pem', 'A etc/apk/keys/libremesh.pem', 'A etc/apk/repositories.d/customfeeds.list', 'A etc/apk/repositories.d/distfeeds.list', 'A etc/apk/repositories.d/limefeeds.list', ...]
------------------------------------------------------------
Failed Checks: 2</failure></testcase><testcase classname="tests.test_base" name="test_shell" time="0.050" /><testcase classname="tests.test_base" name="test_firmware_version" time="0.106"><properties><property name="firmware_version" value="r32355-caef0a839a" /><property name="expected_firmware_version" value="r32355-caef0a839a" /></properties></testcase><testcase classname="tests.test_base" name="test_dropbear_startup" time="0.305" /><testcase classname="tests.test_base" name="test_ssh" time="0.046" /><testcase classname="tests.test_base" name="test_echo" time="0.041" /><testcase classname="tests.test_base" name="test_uname" time="0.078" /><testcase classname="tests.test_base" name="test_ubus_system_board" time="0.093" /><testcase classname="tests.test_base" name="test_free_memory" time="0.126" /><testcase classname="tests.test_base" name="test_sysupgrade_backup" time="0.000"><skipped type="pytest.skip" message="Skipping because feature &quot;{'rootfs'}&quot; is not supported">/home/runner/work/openwrt-tests/openwrt-tests/tests/test_base.py:69: Skipping because feature "{'rootfs'}" is not supported</skipped></testcase><testcase classname="tests.test_base" name="test_sysupgrade_backup_u" time="0.000"><skipped type="pytest.skip" message="Skipping because feature &quot;{'rootfs'}&quot; is not supported">/home/runner/work/openwrt-tests/openwrt-tests/tests/test_base.py:81: Skipping because feature "{'rootfs'}" is not supported</skipped></testcase><testcase classname="tests.test_base" name="test_kernel_errors" time="0.168" /><testcase classname="tests.test_lan" name="test_lan_wait_for_link_ready" time="0.132" /><testcase classname="tests.test_lan" name="test_lan_wait_for_network" time="0.126" /><testcase classname="tests.test_lan" name="test_lan_interface_address" time="0.000"><skipped type="pytest.skip" message="Skipping because feature &quot;{'openwrt'}&quot; is not supported">/home/runner/work/openwrt-tests/openwrt-tests/tests/test_lan.py:27: Skipping because feature "{'openwrt'}" is not supported</skipped></testcase><testcase classname="tests.test_lan" name="test_lan_interface_has_neighbor" time="0.000"><skipped type="pytest.skip" message="Skipping because feature &quot;{'lan-neighbours'}&quot; is not supported">/home/runner/work/openwrt-tests/openwrt-tests/tests/test_lan.py:34: Skipping because feature "{'lan-neighbours'}" is not supported</skipped></testcase><testcase classname="tests.test_libremesh_shared_state_async" name="test_bat_links_info" time="0.217"><error message="failed on setup with &quot;AssertionError: assert '' == '/usr/bin/vwifi-client'&#10;  &#10;  #x1B[0m#x1B[91m- /usr/bin/vwifi-client#x1B[39;49;00m#x1B[90m#x1B[39;49;00m&quot;">shell_command = ShellDriver(target=Target(name='main', env=Environment(config_file='targets/qemu-libremesh-x86-64.yaml')), name=None, ...root', password=None, keyfile='', login_timeout=60, console_ready='', await_login_timeout=30, post_login_settle_time=0)
target = Target(name='main', env=Environment(config_file='targets/qemu-libremesh-x86-64.yaml'))

    @pytest.fixture
    def upload_vwifi(shell_command, target):
        ssh = target.get_driver("SSHDriver")
        ssh.scp(src="vwifi/vwifi-client", dst=":/usr/bin/vwifi-client")
        path = "\n".join(ssh.run("which vwifi-client")[0])
&gt;       assert path == "/usr/bin/vwifi-client"
E       AssertionError: assert '' == '/usr/bin/vwifi-client'
E         
E         #x1B[0m#x1B[91m- /usr/bin/vwifi-client#x1B[39;49;00m#x1B[90m#x1B[39;49;00m

tests/conftest.py:92: AssertionError</error></testcase><testcase classname="tests.test_network_security" name="test_ssh_supported_algorithms" time="0.357" /><testcase classname="tests.test_opkg" name="test_opkg_procd_installed" time="0.000"><skipped type="pytest.skip" message="Skipping because feature &quot;{'opkg'}&quot; is not supported">/home/runner/work/openwrt-tests/openwrt-tests/tests/test_opkg.py:4: Skipping because feature "{'opkg'}" is not supported</skipped></testcase><testcase classname="tests.test_opkg" name="test_opkg_install_ucert" time="0.000"><skipped type="pytest.skip" message="Skipping because features &quot;{'online', 'opkg'}&quot; are not supported">/home/runner/work/openwrt-tests/openwrt-tests/tests/test_opkg.py:9: Skipping because features "{'online', 'opkg'}" are not supported</skipped></testcase><testcase classname="tests.test_system_health.TestSystemHealth" name="test_memory_usage" time="0.073" /><testcase classname="tests.test_system_health.TestSystemHealth" name="test_filesystem_usage" time="0.421" /><testcase classname="tests.test_system_health.TestSystemHealth" name="test_system_uptime" time="0.066" /><testcase classname="tests.test_system_health.TestSystemHealth" name="test_temperature_sensors" time="0.071" /><testcase classname="tests.test_system_health.TestSystemHealth" name="test_process_count" time="0.128" /><testcase classname="tests.test_system_health.TestSystemHealth" name="test_entropy_available" time="0.065" /><testcase classname="tests.test_system_health.TestSystemHealth" name="test_open_file_descriptors" time="0.066" /><testcase classname="tests.test_wan" name="test_wan_wait_for_network" time="0.000"><skipped type="pytest.skip" message="Skipping because feature &quot;{'wan_port'}&quot; is not supported">/home/runner/work/openwrt-tests/openwrt-tests/tests/test_wan.py:45: Skipping because feature "{'wan_port'}" is not supported</skipped></testcase><testcase classname="tests.test_wan" name="test_https_download" time="0.000"><skipped type="pytest.skip" message="Skipping because feature &quot;{'online'}&quot; is not supported">/home/runner/work/openwrt-tests/openwrt-tests/tests/test_wan.py:56: Skipping because feature "{'online'}" is not supported</skipped></testcase><testcase classname="tests.test_wifi" name="test_wifi_wpa3" time="0.000"><skipped type="pytest.skip" message="Skipping because feature &quot;{'wifi'}&quot; is not supported">/home/runner/work/openwrt-tests/openwrt-tests/tests/test_wifi.py:28: Skipping because feature "{'wifi'}" is not supported</skipped></testcase><testcase classname="tests.test_wifi" name="test_wifi_wpa2" time="0.000"><skipped type="pytest.skip" message="Skipping because feature &quot;{'wifi'}&quot; is not supported">/home/runner/work/openwrt-tests/openwrt-tests/tests/test_wifi.py:52: Skipping because feature "{'wifi'}" is not supported</skipped></testcase><testcase classname="tests.test_wifi" name="test_wifi_scan" time="0.000"><skipped type="pytest.skip" message="Skipping because features &quot;{'wifi', 'wifi-neighbors'}&quot; are not supported">/home/runner/work/openwrt-tests/openwrt-tests/tests/test_wifi.py:76: Skipping because features "{'wifi', 'wifi-neighbors'}" are not supported</skipped></testcase><testcase classname="tests.test_wifi" name="test_wifi_hwsim_sae_mixed" time="1.532"><failure message="AssertionError: assert '-wireless.radio1.disabled' in ''&#10; +  where '' = &lt;built-in method join of str object at 0x15a13e0&gt;([])&#10; +    where &lt;built-in method join of str object at 0x15a13e0&gt; = '\n'.join">ssh_command = SSHDriver(target=Target(name='main', env=Environment(config_file='targets/qemu-libremesh-x86-64.yaml')), name=None, st...r_merge=False, connection_timeout=30.0, explicit_sftp_mode=False, explicit_scp_mode=True, username='root', password='')

    @pytest.mark.lg_feature("hwsim")
    def test_wifi_hwsim_sae_mixed(ssh_command):
        """
        Test wifi configuration.
    
        This test creates one AP and one station and checks if they can connect to each other.
        It sets up the wireless configuration using the `ssh_command` fixture and relies on the
        "hwsim" driver to create the virtual radios.
        """
        ssh_command.run("uci set wireless.radio0.channel=11")
        ssh_command.run("uci set wireless.radio0.band=2g")
        ssh_command.run("uci delete wireless.radio0.disabled")
    
        ssh_command.run("uci set wireless.default_radio0.encryption=sae-mixed")
        ssh_command.run("uci set wireless.default_radio0.key=testtest")
    
        ssh_command.run("uci delete wireless.radio1.channel")
        ssh_command.run("uci set wireless.radio1.band=2g")
        ssh_command.run("uci delete wireless.radio1.disabled")
    
        ssh_command.run("uci set wireless.default_radio1.network=wan")
        ssh_command.run("uci set wireless.default_radio1.mode=sta")
        ssh_command.run("uci set wireless.default_radio1.encryption=sae-mixed")
        ssh_command.run("uci set wireless.default_radio1.key=testtest")
    
&gt;       assert "-wireless.radio1.disabled" in "\n".join(ssh_command.run("uci changes")[0])
E       AssertionError: assert '-wireless.radio1.disabled' in ''
E        +  where '' = &lt;built-in method join of str object at 0x15a13e0&gt;([])
E        +    where &lt;built-in method join of str object at 0x15a13e0&gt; = '\n'.join

tests/test_wifi.py:122: AssertionError</failure></testcase></testsuite></testsuites>